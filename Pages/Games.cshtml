@page
@model SteamShelf.Pages.GamesModel
@{
    ViewData["Title"] = "Games";
    bool isAuthenticated = User?.Identity?.IsAuthenticated ?? false;
}

<div class="btn-group mb-3" role="group" aria-label="View toggle">
    <a href="?view=grid" class="btn btn-outline-primary @(Model.ViewType == "grid" ? "active" : "")">Grid View</a>
    <a href="?view=list" class="btn btn-outline-primary @(Model.ViewType == "list" ? "active" : "")">List View</a>
</div>


<div class="text-center">
    @if (Model.SteamOwnedGames != null && Model.SteamOwnedGames.Any())
    {
        if (Model.ViewType == "grid")
        {
            <div class="row">
                @foreach (var game in Model.SteamOwnedGames)
                {
                    <div class="col-6 col-md-3 mb-4">
                        <div class="card h-100">
                            <img src="@game.HeaderImageUrl" alt="@game.Name" class="card-img-top" />
                            <div class="card-body">
                                <h5 class="card-title">@game.Name</h5>
                            </div>
                        </div>
                    </div>
                }
            </div>
        }
        else if (Model.ViewType == "list")
        {
            <ul class="list-group">
                @foreach (var game in Model.SteamOwnedGames)
                {
                    <li class="list-group-item d-flex align-items-center">
                        <img src="@game.HeaderImageUrl" alt="@game.Name" style="width: 64px; height: 32px; margin-right: 10px;" />
                        <strong>@game.Name</strong>
                    </li>
                }
            </ul>
        }
    }
    else
    {
        <p>You have no games or you are not logged in.</p>
    }

</div>